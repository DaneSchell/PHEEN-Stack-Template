<div class="account-container">
    <h1>Account Settings</h1>

    <% if (errors && errors.length > 0) { %>
        <div class="errors">
            <% errors.forEach(function(error) { %>
                <p><%= error.msg %></p>
            <% }) %>
        </div>
    <% } %>

    <% if (user.role === 'admin') { %>
    <div class="account-section">
        <h2>Update Username</h2>
        <form id="usernameForm" action="/account/update-username" method="POST" class="account-form">
            <div class="form-group">
                <input type="text" name="newUsername" placeholder="New Username" required>
            </div>
            <button type="submit" class="btn">Update Username</button>
        </form>
    </div>
    <% } %>

    <div class="account-section">
        <h2>Update Email</h2>
        <form id="emailForm" action="/account/update-email" method="POST" class="account-form">
            <div class="form-group">
                <input type="email" name="newEmail" placeholder="New Email Address" required>
            </div>
            <button type="submit" class="btn">Update Email</button>
        </form>
    </div>

    <div class="account-section">
        <h2>Update Password</h2>
        <form id="passwordForm" action="/account/update-password" method="POST" class="account-form">
            <div class="form-group">
                <input type="password" name="currentPassword" placeholder="Current Password" required>
            </div>
            <div class="form-group">
                <input type="password" name="newPassword" placeholder="New Password" required>
            </div>
            <button type="submit" class="btn">Update Password</button>
        </form>
    </div>

    <% if (user.role === 'admin') { %>
    <div class="account-section">
        <h2>Delete Account</h2>
        <form id="deleteForm" action="/account/delete-account" method="POST" class="account-form">
            <p class="warning-text">Warning: This action cannot be undone.</p>
            <button type="submit" class="btn btn-danger">Delete Account</button>
        </form>
    </div>
    <% } %>
</div>

<script src="/js/deleteAccount.js"></script>
<link rel="stylesheet" href="/views/partials/css/account.css"> 